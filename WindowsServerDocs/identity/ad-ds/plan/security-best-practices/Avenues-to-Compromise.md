---
ms.assetid: d7a4d2e1-217d-4ffc-93f0-817149bd9e7f
title: Esposizione a possibili violazioni
description: ''
author: MicrosoftGuyJFlo
ms.author: joflore
manager: mtillman
ms.date: 05/31/2017
ms.topic: article
ms.prod: windows-server-threshold
ms.technology: identity-adds
ms.openlocfilehash: 916bffd4f83e5c72816035542772342010e1a67c
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/17/2019
ms.locfileid: "59874482"
---
# <a name="avenues-to-compromise"></a>Esposizione a possibili violazioni

>Si applica a: Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

*Legge numero sette: La rete più sicura non è ben amministrato.* - [10 leggi immutabili della protezione amministrazione](https://technet.microsoft.com/library/cc722488.aspx)  
  
Nelle organizzazioni che si sono verificati eventi catastrofici compromissione, valutazioni rivelano in genere che le organizzazioni hanno limitata visibilità dello stato effettivo delle infrastrutture IT, che può variare significativamente da loro "come documentato" stati. Tali scostamenti introducono vulnerabilità che espongono l'ambiente per compromettere, spesso con individuazione fino a quando non la compromissione si è evoluto nel punto in cui gli utenti malintenzionati in modo efficace "proprietario" dell'ambiente di rischio ridotto.  
  
Dettagliate valutazioni della configurazione di Active Directory Domain Services queste organizzazioni, infrastrutture a chiave pubbliche (PKI), server, workstation, le applicazioni, accedere a elenchi di controllo (ACL) e altre tecnologie di rivelano eventuali vulnerabilità e gli errori di configurazione che, se risolti, potrebbe aver impedito la compromissione iniziale.  
  
Analisi della documentazione, processi e procedure IT identifica le vulnerabilità introdotte da alcune lacune procedure amministrative che sono state sfruttate da utenti malintenzionati alla fine di ottenere privilegi che sono stati utilizzati per compromettere completamente la foresta di Active Directory. Una foresta completamente compromessa è uno in cui gli utenti malintenzionati compromettono non solo singoli sistemi, applicazioni o gli account utente, ma l'escalation l'accesso per ottenere un livello di privilegio in cui è possibile modificare o eliminare definitivamente tutti gli aspetti della foresta. Quando un'installazione di Active Directory sia stata compromessa a che livello, gli utenti malintenzionati possono apportare modifiche che consentono loro di mantenere una presenza in tutto l'ambiente, o peggio ancora, per eliminare la directory e i sistemi e gli account gestiti.  
  
Anche se non un numero di vulnerabilità sfruttata. comunemente nelle descrizioni che seguono è gli attacchi contro Active Directory, consentono agli utenti malintenzionati di penetrare in un ambiente che può essere usato per eseguire l'escalation dei privilegi (detto anche dei privilegi l'elevazione dei privilegi) attacchi e per alla fine di destinazione e compromettere Active Directory Domain Services.  
  
In questa sezione di questo documento è incentrato sulla descrizione i meccanismi che gli utenti malintenzionati usano in genere per ottenere l'accesso all'infrastruttura e alla fine per sferrare attacchi di elevazione dei privilegi. Vedere anche le sezioni seguenti:  
  
-   [La riduzione della superficie di attacco Active Directory](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md) suggerimenti dettagliati per la configurazione sicura di Active Directory.  
  
-   [Monitoraggio di Active Directory per la firma di compromettere](../../../ad-ds/plan/security-best-practices/Monitoring-Active-Directory-for-Signs-of-Compromise.md) raccomandazioni per il rilevamento di compromissione  
  
-   [Pianificazione del compromesso](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Planning-for-Compromise.md) approcci generali per la preparazione per gli attacchi contro l'infrastruttura dall'IT e prospettive di business  
  
> [!NOTE]  
> Sebbene questo documento è incentrato sui sistemi Windows e Active Directory che fanno parte di un dominio di Active Directory Domain Services, gli utenti malintenzionati raramente concentrarsi esclusivamente su Active Directory e Windows. Negli ambienti con una combinazione di sistemi operativi, le directory, applicazioni e i repository di dati, è comune per individuare che i sistemi non Windows anche essere stata compromessa. Questo è particolarmente vero se i sistemi offrono un "bridge" tra Windows e gli ambienti non Windows, ad esempio file server accessibile dai client di Windows e UNIX o Linux, le directory che forniscono servizi di autenticazione a più sistemi operativi, o metadirectory che sincronizzare dati tra directory diverse.  
>   
> Active Directory Domain Services è destinata a causa di centralizzato funzionalità di gestione accesso e la configurazione che fornisce non solo per i sistemi Windows, ma agli altri client. Eventuali altre directory o applicazione che fornisce l'autenticazione e la configurazione di servizi di gestione possono e verrà essere attaccate da utenti malintenzionati determinati. Sebbene questo documento è incentrato sulla funzionalità di protezione che consentono di ridurre la probabilità di una compromissione delle installazioni Active Directory, tutte le organizzazioni che includa i computer non Windows, i repository di dati, applicazioni o le directory dovrebbero prepararsi anche attacchi contro questi sistemi.  
  
## <a name="initial-breach-targets"></a>Destinazioni iniziali di violazione  
Nessuno ha intenzionalmente consente di compilare un'infrastruttura IT che espone l'organizzazione per compromettere. Prima di tutto la costruzione di una foresta di Active Directory, sono generalmente originario e corrente. Come passare gli anni e nuovi sistemi operativi e applicazioni vengono acquisite, vengono aggiunti all'insieme di strutture. Man mano che vengono riconosciuti che Active Directory offre i vantaggi di gestibilità più il contenuto viene aggiunto alla directory, più persone integrano i propri computer o le applicazioni con Active Directory Domain Services e i domini vengono aggiornati per supportare la nuova funzionalità offerta da più di versioni correnti del sistema operativo Windows. Cosa accade anche nel corso del tempo, tuttavia, è che anche se viene aggiunta una nuova infrastruttura, altre parti dell'infrastruttura potrebbero non essere mantenute così come sono stati inizialmente, sistemi e applicazioni funzionano correttamente e pertanto non ricevono attenzione e organizzazioni iniziano a dimenticare che sono non avere eliminato la propria infrastruttura legacy. Base di quella mostrata nella valutazione dei compromesse infrastrutture, meno recente, più grandi e più complessa l'ambiente, più è probabile è che sono presenti numerose istanze di vulnerabilità sfruttate comunemente.  
  
Indipendentemente dalla motivazione dell'autore dell'attacco, la maggior parte delle violazioni della protezione di informazioni per iniziare la compromissione di uno o due sistemi alla volta. Questi eventi iniziali o punti di ingresso alla rete, vengono spesso utilizzano le vulnerabilità che è stato possibile sono stati corretti, ma non sono state. Il [2012 dati violazione indagini Report (DBIR)](http://www.verizonbusiness.com/resources/reports/rp_data-breach-investigations-report-2012_en_xg.pdf), che è uno Studio annuo prodotto dal Team di rischio di Verizon in collaborazione con un numero di agenzie di sicurezza nazionale e altri produttori, dichiara che "non erano 96 percento degli attacchi estremamente difficile"e che"97% di violazioni della sicurezza stato evitabili tramite controlli semplici o intermedi". Questi risultati possono essere una conseguenza diretta delle vulnerabilità sfruttata. comunemente che seguono.  
  
### <a name="gaps-in-antivirus-and-antimalware-deployments"></a>Gap nelle distribuzioni di Antimalware e Antivirus  
*Legge numero otto: Un'analisi malware non aggiornate sono solo leggermente superiori rispetto a nessun scanner affatto.* - [10 leggi immutabili della protezione (versione 2.0)](https://technet.microsoft.com/security/hh278941.aspx)  
  
Analisi delle distribuzioni di antivirus e antimalware organizzazioni spesso individua un ambiente in cui la maggior parte delle workstation siano configurati con un software antivirus e antimalware che è abilitato e corrente. Le eccezioni sono in genere le workstation che si connettono raramente per i dispositivi aziendali di ambiente o dipendente per quali antivirus e antimalware software può essere difficile da distribuire, configurare e aggiornare.  
  
Popolamenti di server, tuttavia, tendono a essere che meno protetto in modo coerente in molti ambienti di compromessi. Come indicato nel [2012 dati violazione indagini](http://www.verizonbusiness.com/resources/reports/rp_data-breach-investigations-report-2012_en_xg.pdf)il 94% di tutti i dati a compromettere i server coinvolti, che rappresenta un aumento del 18% rispetto all'anno precedente e incorporato di 69% dei attacchi malware. In popolamenti di server, non è insolito che le installazioni di antivirus e antimalware sono configurate in modo incoerente, obsoleta, configurato correttamente, o anche disabilitate. In alcuni casi, il software antivirus e antimalware è disabilitato per il personale amministrativo, ma in altri casi, gli utenti malintenzionati disabilitare il software compromettere un server tramite altre vulnerabilità. Quando il software antivirus e antimalware è disabilitato, gli utenti malintenzionati quindi prevede malware sul server e concentrare l'attenzione sulla propagazione compromesso tra il popolamento di server.  
  
È importante non solo per garantire che i sistemi siano protetti con la protezione antimalware corrente e completi, ma anche per monitorare i sistemi per la disabilitazione o la rimozione del software antivirus e antimalware e di riavviare automaticamente protezione quando è disabilitato manualmente. Anche se nessun software antivirus e antimalware in grado di garantire la prevenzione e rilevamento di tutte le infezioni, un'implementazione sia configurata correttamente e distribuita antivirus e antimalware può ridurre la probabilità di infezione.  
  
### <a name="incomplete-patching"></a>L'applicazione di patch incompleto  
*Legge numero tre: Se non rimanere al passo con correzioni della sicurezza, la rete non è quelle in uso per molto tempo.* - [10 leggi immutabili della protezione amministrazione](https://technet.microsoft.com/library/cc722488.aspx)  
  
Microsoft rilascia bollettini sulla sicurezza il secondo martedì di ogni mese, sebbene in rare occasioni vengono rilasciati aggiornamenti della sicurezza tra gli aggiornamenti mensili della sicurezza (questi sono anche noti come gli aggiornamenti "out-of-band") quando la vulnerabilità è determinata a rappresentare un rischio urgente per sistemi del cliente. Se una piccola azienda consente di configurare i computer Windows usare Windows Update per gestire l'applicazione di patch e sistemi o una grande organizzazione Usa software di gestione, ad esempio System Center Configuration Manager (SCCM) per distribuire le patch in base alla dettagliate, i piani gerarchici, molti clienti patch le proprie infrastrutture di Windows in modo tempestivo relativamente.  
  
Tuttavia, alcune infrastrutture includono solo i computer Windows e applicazioni Microsoft e negli ambienti di compromessi, è raro trovare che strategia di gestione delle patch dell'organizzazione contiene spazi vuoti. I sistemi Windows in questi ambienti sono patch in modo incoerente. Sistemi operativi non Windows vengono corretti in alcuni casi, se affatto. Applicazioni di (COTS) commerciali preconfigurate contengono vulnerabilità per i quali patch esiste, ma non sono state applicate. I dispositivi di rete sono spesso configurati con le credenziali predefinite di fabbrica e non firmware Aggiorna anni dopo la loro installazione. Le applicazioni e sistemi operativi che non sono più supportati dai rispettivi fornitori spesso rimangono in esecuzione, anche se non è più possibile applicare patch alle vulnerabilità. Ognuno di questi sistemi non aggiornati rappresenta un'altra potenziale punto di ingresso per gli utenti malintenzionati.  
  
L'informatica di consumo e IT ha introdotti problemi aggiuntivi in tale dipendente e di proprietà vengono utilizzati dispositivi per accedere ai dati di proprietà aziendali, l'organizzazione non potrebbe avere su controllo limitato sull'applicazione di patch e la configurazione dei dispositivi personali dei dipendenti. Hardware di classe Enterprise in genere viene fornito con funzionalità di gestione, aumentando tuttavia meno scelta nella selezione di personalizzazione e del dispositivo singole e le opzioni di configurazione di livello aziendale. Incentrato sul dipendente hardware offre una gamma più ampia di produttori di fornitori, funzionalità di protezione hardware, software funzionalità di sicurezza, funzionalità di gestione e opzioni di configurazione e molte funzionalità aziendali può essere del tutto assente.  
  
#### <a name="patch-and-vulnerability-management-software"></a>Software di gestione delle vulnerabilità e patch  
Se un sistema di gestione efficace delle patch è per i sistemi Windows e le applicazioni di Microsoft, parte della superficie di attacco che creano le vulnerabilità senza patch è stata risolta. Tuttavia, a meno che i sistemi non Windows, le applicazioni non Microsoft, infrastruttura di rete e dispositivi dei dipendenti vengono inoltre mantenuti aggiornati su patch e altre correzioni, l'infrastruttura rimane vulnerabile. In alcuni casi, il fornitore di un'applicazione può offrire funzionalità di aggiornamento automatico; in altri casi, potrebbe essere necessario definire un approccio per recuperare e applicare patch e altre correzioni regolarmente.
  
### <a name="outdated-applications-and-operating-systems"></a>Sistemi operativi e applicazioni obsolete  
*"Non è previsto un sistema operativo di sei anni per proteggersi da attacchi di sei mese precedente."* -Information Security Professional con 10 anni di esperienza le installazioni aziendali di protezione dell'  
  
Anche se "ottenere corrente, al passo coi" possa sembrare come una frase di marketing, i sistemi operativi obsoleti e le applicazioni creano rischi in molte organizzazioni le infrastrutture IT. Un sistema operativo che è stato rilasciato nel 2003 potrebbe ancora essere supportato dal fornitore e fornito con gli aggiornamenti per risolvere vulnerabilità, ma tale sistema operativo potrebbe non contenere funzionalità di sicurezza aggiunta nelle versioni più recenti del sistema operativo. I sistemi non aggiornati possono anche richiedere indebolimento di determinati configurazione di sicurezza di Active Directory Domain Services per supportare le funzionalità di minore di tali computer.  
  
Le applicazioni scritte per utilizzare i protocolli di autenticazione legacy per i fornitori che sono non supportano più l'applicazione in genere non possono essere retooled per supportare i meccanismi di autenticazione più avanzati. Tuttavia, dominio di Active Directory dell'organizzazione potrebbe ancora essere configurato per archiviare gli hash di LAN Manager o crittografate per supportare tali applicazioni. Le applicazioni scritte prima dell'introduzione dei sistemi operativi più recenti potrebbero non funzionare bene affatto nei sistemi operativi correnti che richiede alle organizzazioni di gestire sistemi meno recenti e meno recenti e in alcuni casi, non supportate del tutto hardware e software.  
  
Anche nei casi in cui le organizzazioni hanno aggiornato i controller di dominio a Windows Server 2012, Windows Server 2008 R2 o Windows Server 2008, è tipico per trovare parti significative del membro il popolamento sia in esecuzione Windows Server 2003, Windows server Server 2000 o Windows NT Server 4.0 (che non sono completamente supportati). Più a lungo un'organizzazione gestisce sistemi degli oggetti eliminati, più aumenta la disparità tra set di funzionalità e più è probabile che diventa che i sistemi di produzione non verranno più supportati. Inoltre, più a lungo viene mantenuto un insieme di strutture Active Directory, più è osservare che le applicazioni e sistemi legacy non sono installate nei piani di aggiornamento. Questo può significare che un singolo computer che esegue una singola applicazione possono introdurre vulnerabilità a livello di dominio o foresta Active Directory è configurato per supportare le protocolli legacy e meccanismi di autenticazione.  
  
Per eliminare le applicazioni e sistemi legacy, è consigliabile concentrarsi sull'identificazione e la catalogazione di essi, quindi su come determinare se aggiornare o sostituire l'applicazione o un host. Anche se può essere difficile trovare le sostituzioni per le applicazioni altamente specializzate per cui è disponibile supporto né un percorso di aggiornamento, potrebbe essere in grado di sfruttare un concetto detto "distruzione creativa" per sostituire l'applicazione legacy con una nuova applicazione che fornisce la funzionalità necessaria. [Pianificazione del compromesso](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Planning-for-Compromise.md) è descritta in modo più approfondito in "Pianificazione per la compromissione" più avanti in questo documento.  
  
### <a name="misconfiguration"></a>Errore di configurazione  
*Legge numero quattro: Non è una buona soluzione per installare aggiornamenti per la sicurezza in un computer protetto è stato mai per iniziare.* - [10 leggi immutabili della protezione amministrazione](https://technet.microsoft.com/library/cc722488.aspx)  
  
Anche in ambienti in cui i sistemi vengono in genere conservati e le patch correnti, è comunemente identificare i gap o errori di configurazione nel sistema operativo, le applicazioni in esecuzione nel computer e su Active Directory. Alcune configurazioni errate espongono solo al computer locale per compromettere, ma dopo che un computer è "proprietario", gli utenti malintenzionati in genere sono incentrati sulla propagazione ulteriormente il compromesso tra gli altri sistemi e infine a Active Directory. Di seguito sono alcune delle aree più comuni in cui è identificare le configurazioni che presentano rischi.  
  
#### <a name="in-active-directory"></a>In Active Directory  
Gli account in Active Directory che sono in genere attaccati da utenti malintenzionati sono quelli che sono membri dei gruppi con privilegi più elevati, ad esempio i membri del dominio. gli amministratori (DA), Enterprise Admins (EA) o gruppi Administrators (BA) predefiniti in Active Directory. L'appartenenza a questi gruppi deve essere ridotta il più piccolo numero di account possibili in modo da limitare la superficie di attacco di questi gruppi. È anche possibile eliminare l'appartenenza "permanente" a questi gruppi con privilegi; vale a dire, è possibile implementare le impostazioni che consentono di popolare temporaneamente questi gruppi solo quando sono necessari i privilegi di dominio e foresta. Quando vengono usati account con privilegi elevati, deve essere utilizzati solo nei sistemi designati, protetto, ad esempio host amministrativi protetti o i controller di dominio. Informazioni dettagliate per facilitare l'implementazione tutte queste configurazioni sono disponibili nel [riducendo la superficie di attacco Active Directory](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md).  
  
Quando si valuta l'appartenenza di gruppi con privilegi più elevati in Active Directory, troviamo comunemente appartenenza eccessivo in tutte e tre i gruppi con più privilegi. In alcuni casi, le organizzazioni hanno decine, centinaia di account DA gruppi. In altri casi, le organizzazioni inserire gli account direttamente in gruppo incorporato Administrators, pensare che il gruppo è "meno privilegiato" rispetto al gruppo di DAs. Non è. È spesso trovare un numero limitato di membri permanenti del gruppo EA nel dominio radice della foresta, nonostante il fatto che i privilegi con contratto Enterprise Agreement raramente sono obbligatori e temporaneamente. Ricerca di un IT quotidiane Amministrazione account utente in tutti i gruppi di tre è anche comune, anche se si tratta di una configurazione in modo efficace con ridondanza. Come descritto in [riducendo la superficie di attacco Active Directory](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md), la presenza di un account è un membro permanente di uno di questi gruppi o tutti gli elementi, l'account è utilizzabile per compromettere e anche eliminare definitivamente l'ambiente Active Directory Domain Services e i sistemi e account gestiti da esso. Suggerimenti per la protezione della configurazione e l'uso di account con privilegi in Active Directory sono incluse nei [riducendo la superficie di attacco Active Directory](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md).  
  
#### <a name="on-domain-controllers"></a>Nei controller di dominio  
Quando è possibile valutare i controller di dominio, sono stati trovati spesso trovarli configurate e gestite in modo diverso rispetto a server membri. I controller di dominio eseguono in alcuni casi le stesse applicazioni e utilità installate nei server membri, non perché saranno necessarie nei controller di dominio, ma perché le applicazioni fanno parte di una build standard. Queste applicazioni potrebbero forniscono funzionalità minime nei controller di dominio ma aggiungere in modo significativo per la superficie di attacco richiedendo l'impostazione di configurazione che aprire le porte, creare gli account del servizio con privilegi elevati o concedere l'accesso al sistema da parte degli utenti che hanno non è consigliabile connettersi a un controller di dominio per qualsiasi altro scopo non concernente l'autenticazione e l'applicazione di criteri di gruppo. In alcune violazioni della sicurezza, gli utenti malintenzionati hanno usato gli strumenti che già installati nei controller di dominio non solo per ottenere l'accesso ai controller di dominio, ma per modificare o danneggiare il database di Active Directory Domain Services.  
  
Quando vengono estratte le impostazioni di configurazione di Internet Explorer nei controller di dominio, si scopre che gli utenti hanno eseguito l'accesso con account personali con elevati livelli di privilegi in Active Directory e hanno usato gli account per accedere a Internet e intranet dal dominio controller. In alcuni casi, gli account di aver configurato le impostazioni di Internet Explorer nei controller di dominio per consentire il download di Internet contenuto e freeware utilities sono stati scaricati da siti Internet e installato nei controller di dominio. Configurazione sicurezza avanzata di Internet Explorer è abilitata per gli utenti e amministratori per impostazione predefinita, ma spesso riscontrata vale a dire è stata disabilitata per gli amministratori. Quando un account con privilegiato elevati accede a Internet e scarica il contenuto a qualsiasi computer, tale computer è mettono a rischio di gravi. Quando il computer è un controller di dominio, l'intera installazione di Active Directory Domain Services è mettono a rischio.  
  
##### <a name="protecting-domain-controllers"></a>Proteggere i controller di dominio  
I controller di dominio devono essere considerati come componenti critici dell'infrastruttura, protetto in modo più rigoroso e configurati in modo più rigido rispetto a file, stampa e i server applicazioni. I controller di dominio non devono eseguire qualsiasi software che non è necessaria per il controller di dominio alla funzione o non protegge il controller di dominio da attacchi. I controller di dominio devono essere consentiti l'accesso a Internet e le impostazioni di sicurezza devono essere configurate e applicate da oggetti Criteri di gruppo (GPO). Vengono fornite indicazioni dettagliate per la sicurezza dell'installazione, configurazione e la gestione dei controller di dominio [proteggere i controller di dominio contro attacco](../../../ad-ds/plan/security-best-practices/Securing-Domain-Controllers-Against-Attack.md).  
  
#### <a name="within-the-operating-system"></a>All'interno del sistema operativo  
*Legge numero due: Se un utente malintenzionato può alterare il sistema operativo nel computer in uso, non è il computer più.* - [10 leggi immutabili della protezione (versione 2.0)](https://technet.microsoft.com/security/hh278941.aspx)  
  
Anche se alcune organizzazioni creare le configurazioni di base per i server di diversi tipi e consentono la personalizzazione limitata del sistema operativo dopo l'installazione, analisi di ambienti di compromessi spesso permette di ottenere un numero elevato di server distribuiti in un modalità ad hoc e configurata in modo indipendente e manualmente. Le configurazioni di tra due server che eseguono la stessa funzione potrebbero essere completamente diverse, in cui nessuno dei due server sia configurato in modo sicuro. Viceversa, linee di base di configurazione server può essere applicate in modo coerente, ma anche in modo coerente è configurato correttamente; vale a dire server sono configurati in modo che crea la vulnerabilità stesso in tutti i server di un determinato tipo. Errore di configurazione include procedure consigliate, ad esempio la disabilitazione della funzionalità di sicurezza, concedono diritti eccessivi e le autorizzazioni per gli account (in particolare gli account del servizio), usare delle credenziali locali identiche tra sistemi e l'installazione che consenta di applicazioni non autorizzate e utilità che creano le vulnerabilità di propri.  
  
##### <a name="disabling-security-features"></a>La disabilitazione delle funzionalità di sicurezza  
Le organizzazioni a volte disabilitano Windows Firewall con protezione avanzata (WFAS) dalla convinzione che WFAS è difficile configurare o richiede la configurazione di lavoro a elevato utilizzo. Tuttavia, a partire da Windows Server 2008, quando qualsiasi funzionalità o del ruolo viene installato in un server, è configurato per impostazione predefinita con i privilegi minimi necessari per il ruolo o funzionalità alla funzione e il Firewall di Windows viene configurato automaticamente per supportare il ruolo o una funzionalità. Disabilitando WFAS (e non usa un altro firewall basato su host al suo posto), le organizzazioni aumenta la superficie di attacco dell'intero ambiente Windows. I firewall perimetrale offrono un livello di protezione contro gli attacchi destinati direttamente a un ambiente da Internet, ma non garantiscono alcuna protezione contro gli attacchi che sfruttano altri vettori di attacco, ad esempio [da drive-by download](https://www.microsoft.com/security/sir/glossary/drive-by-download-sites.aspx) gli attacchi o attacchi provenienti da altri sistemi compromessi nella intranet.  
  
Le impostazioni di controllo dell'account utente di utente vengono talvolta disabilitate sul server perché il personale amministrativo trovare le istruzioni intrusivo. Sebbene [articolo del supporto Microsoft 2526083](https://support.microsoft.com/kb/2526083) vengono descritti gli scenari in cui controllo dell'account utente potrebbe essere disabilitato in Windows Server, a meno che non si esegue un server di installazione core (in cui UAC è disattivato per impostazione predefinita), è consigliabile non disabilitare controllo dell'account utente nei server senza un'attenta analisi e ricerca.  
  
In altri casi, le impostazioni del server sono configurate per meno sicuro valori perché le organizzazioni si applicano le impostazioni di configurazione di server non aggiornati a nuovi sistemi operativi, ad esempio applicando le linee di base di Windows Server 2003 a computer che eseguono Windows Server 2012, Windows Server 2008 R2 o Windows Server 2008, senza modificare le basi di riferimento in modo da riflettere le modifiche nel sistema operativo. Anziché effettuare linee di base server precedente a nuovi sistemi operativi, quando si distribuisce un nuovo sistema operativo, esaminare le modifiche della sicurezza e le impostazioni di configurazione per garantire che le impostazioni implementate siano applicabili e appropriato per il nuovo sistema operativo.  
  
##### <a name="granting-excessive-privilege"></a>Concessione di privilegi eccessivi  
In quasi tutti gli ambienti che sono stati valutati, privilegi eccessivi viene concesso agli account locali e basati su dominio nei sistemi Windows. Agli utenti vengono concessi diritti di amministratore locale sulle proprie workstation, Esegui i servizi configurati con diritti oltre ciò che cercano a funzionare, i server membri e i gruppi di amministratori locali nella popolazione server contengono decine o addirittura centinaia di account locali e di dominio. Compromissione di un solo account con privilegi in un computer consente agli utenti malintenzionati compromettere gli account di tutti gli utenti e servizio che accede al computer e alle credenziali harvest e sfruttare i vantaggi per propagare la compromissione ad altri sistemi.  
  
Sebbene pass-the-hash (PTH) e altri attacchi contro il furto di credenziali sono attualmente diffusissime, che perché è disponibili gratuitamente strumenti che rende più semplice e facile estrarre le credenziali di altri account con privilegi quando un utente malintenzionato ha ottenuto amministratore: o accesso a livello di sistema a un computer. Anche senza gli strumenti che consente la raccolta delle credenziali da sessioni di accesso, un utente malintenzionato con accesso con privilegi a un computer può facilmente installare keystroke logger in grado di registrare le sequenze di tasti, screenshot e il contenuto degli Appunti. Un utente malintenzionato con accesso con privilegi a un computer può disabilitare il software antimalware, installare rootkit, modificare i file protetti, oppure installare malware nel computer che consente di automatizzare gli attacchi o diventa un server in una [da drive-by download](https://www.microsoft.com/security/sir/glossary/drive-by-download-sites.aspx) host.  
  
Variano tattiche utilizzate per estendere una violazione oltre un singolo computer, ma la chiave per la propagazione di compromissione è l'acquisizione dell'accesso con privilegiato elevati per altri sistemi. Riducendo il numero di account con privilegi di accesso a qualsiasi sistema, si riduce la superficie di attacco non solo di quel computer, ma la probabilità che un utente malintenzionato harvesting delle preziose credenziali dell'utente dal computer.  
  
##### <a name="standardizing-local-administrator-credentials"></a>La standardizzazione delle credenziali di amministratore locale  
Esiste già da tempo dibattito tra gli addetti alla sicurezza come a se non vi è valore Rinomina account amministratore locale sul computer Windows. In effetti sugli account amministratore locale è importante se sono configurati con lo stesso nome utente e la stessa password in più computer.  
  
Se l'account amministratore locale è denominato sullo stesso valore tra server e la password assegnata all'account è configurata anche per lo stesso valore, gli utenti malintenzionati possono estrarre le credenziali dell'account in un computer in cui l'accesso amministratore o a livello di sistema è stato ottenuto. L'autore dell'attacco non è inizialmente compromettere l'account amministratore. è solo necessario compromettere l'account di un utente che è un membro del gruppo Administrators locale o di un account del servizio è configurato per l'esecuzione come LocalSystem o con privilegi di amministratore. L'autore dell'attacco può quindi estrarre le credenziali per l'account amministratore e riprodurre tali credenziali negli accessi alla rete ad altri computer nella rete.  
  
Finché un altro computer ha un account locale con il nome utente e password (o hash password) come le credenziali dell'account che vengono presentate, il tentativo di accesso ha esito positivo e l'utente malintenzionato ottiene accesso privilegiato al computer di destinazione. Nelle versioni correnti di Windows, l'account Administrator predefinito è [disabilitato per impostazione predefinita](https://technet.microsoft.com/library/cc753450.aspx), ma nei sistemi operativi legacy, l'account è abilitato per impostazione predefinita.  
  
> [!NOTE]  
> Alcune organizzazioni hanno configurato intenzionalmente gli account amministratore locali deve essere abilitata nella convinzione che ciò fornisca un "sicura" nel caso in cui tutti gli altri account con privilegi vengono bloccati da un sistema. Tuttavia, anche se l'account amministratore locale è disabilitato e non sono presenti altri account disponibili che è possibile abilitare l'account o accedere al sistema con privilegi di amministratore, il sistema può essere avviato in modalità provvisoria e l'amministratore locale predefinito account può essere riabilitato, come descritto in [articolo del supporto Microsoft 814777](https://support.microsoft.com/kb/814777). Inoltre, se il sistema applica comunque correttamente oggetti Criteri di gruppo, un oggetto Criteri di gruppo possono essere modificati per (temporaneamente) abilitare nuovamente l'account amministratore, o gruppi con restrizioni possono essere configurati per aggiungere un account basato su dominio al gruppo Administrators locale. È possibile eseguire operazioni di ripristino e l'account di amministratore anche in questo caso può essere disabilitato. Per impedire in modo efficace una compromissione laterale che usa credenziali dell'account Administrator locale predefinite, i nomi utente univoci e le password devono essere configurate per gli account amministratore locali. Per distribuire password univoche per gli account amministratore locali tramite un oggetto Criteri di gruppo, vedere [soluzione per la gestione della password dell'account Administrator incorporato tramite oggetto Criteri di gruppo](https://technet.microsoft.com/mt227395.aspx) su technet.  
  
##### <a name="permitting-installation-of-unauthorized-applications"></a>Supporto di installazione di applicazioni non autorizzate  
*Legge numero uno: Se un utente malintenzionato riesce a convincerti a eseguire il suo programma sul computer, non è esclusivamente nel computer più.* - [10 leggi immutabili della protezione (versione 2.0)](https://technet.microsoft.com/security/hh278941.aspx)  
  
Se un'organizzazione distribuisce le impostazioni di base coerente tra i server, l'installazione di applicazioni che non fanno parte del ruolo definito del server deve essere consentito. Permettendo l'installazione del software che non fa parte della funzionalità designata del server, server sono esposti a accidentale o intenzionali installazione del software che aumenta la superficie di attacco del server, introduce le vulnerabilità dell'applicazione o causa instabilità del sistema.  
  
#### <a name="applications"></a>Applicazioni  
Come descritto in precedenza, le applicazioni sono spesso installate e configurate per l'uso di account concesse in realtà richiede più privilegi rispetto all'applicazione. In alcuni casi, la documentazione dell'applicazione specifica che gli account del servizio devono essere membri del gruppo Administrators locale del server o devono essere configurati per l'esecuzione nel contesto di LocalSystem. Ciò spesso non accade perché l'applicazione richiede i diritti, ma poiché che determina quali autorizzazioni e diritti necessità di account di servizio di un'applicazione richiede un investimento in più tempo e impegno. Se un'applicazione non viene installato con i privilegi minimi necessari per l'applicazione e le relative funzionalità configurata per funzionare, il sistema viene esposta ad attacchi che sfruttano i privilegi dell'applicazione senza eventuali attacchi contro il sistema operativo stesso.  
  
### <a name="lack-of-secure-application-development-practices"></a>Mancanza di procedure di sviluppo di applicazioni sicure  
Esistenza dell'infrastruttura per supportare carichi di lavoro aziendali. In cui questi carichi di lavoro sono implementate in applicazioni personalizzate, è fondamentale per garantire che le applicazioni vengano sviluppate usando sicure e le procedure consigliate. Analisi della causa radice degli eventi imprevisti a livello aziendale spesso rivela che una compromissione iniziale viene effettuata tramite personalizzato le applicazioni, in particolare quelli destinati Internet affiancate. La maggior parte di questi compromessi vengono eseguita tramite compromissione degli attacchi noti, ad esempio attacchi SQL injection (SQLi) e gli attacchi di cross-site scripting (XSS).  
  
Attacco SQL Injection è una vulnerabilità dell'applicazione che consente l'input dall'utente modificare un'istruzione SQL che viene passata al database per l'esecuzione. Questo input può essere fornito tramite un campo nell'applicazione, un parametro (ad esempio la stringa di query o un cookie) o altri metodi. Il risultato dell'inserimento di questo è che l'istruzione SQL fornito per il database è fondamentalmente diverso dallo sviluppatore previsto. Si consideri, ad esempio, una query comune usata nella valutazione di una combinazione nome utente/password:  
  
`SELECT userID FROM users WHERE username = 'sUserName' AND password = 'sPassword'`  
  
Quando questo viene ricevuto dal server di database, indica al server per esaminare la tabella di utenti e restituire tutti i record di ID utente in cui il nome utente e la password corrispondono a quelli forniti dall'utente (presumibilmente tramite un modulo di accesso di un determinato tipo). Naturalmente la finalità dello sviluppatore è in questo caso per restituire solo un record valido, se un nome utente corretto e la password può essere forniti dall'utente. Se una è errato, il server di database sarà possibile trovare un record corrispondente e restituire un risultato vuoto.  
  
Il problema si verifica quando un utente malintenzionato effettua un evento imprevisto, ad esempio fornire le proprie SQL al posto di dati validi. Poiché SQL è interpretato nel immediatamente dal server di database, il codice inserito viene elaborato come se lo sviluppatore aveva inserirlo in sé stesso. Se, ad esempio, l'autore dell'attacco immesso **administrator** per l'ID utente e **xyz** oppure **1 = 1** come password, l'istruzione risulta elaborato dal database sarà:  
  
`SELECT userID FROM users WHERE username = 'administrator' AND password = 'xyz' OR 1=1`  
  
Quando questa query viene elaborata dal server di database, tutte le righe nella tabella restituirà nella query perché 1 = 1 restituirà sempre True, pertanto che non è importante se la correttezza del nome utente e la password è noto o specificata. Nella maggior parte dei casi il risultato è che l'utente verrà connesso come il primo utente nel database dell'utente. Nella maggior parte dei casi, questo sarà l'utente amministratore.  
  
Oltre a semplicemente l'accesso, le istruzioni SQL in formato non valido, ad esempio può essere utilizzato per aggiungere, eliminano, modificano i dati o anche eliminare (delete) intere tabelle da un database. Nel peggiore dei casi in cui SQLi viene combinato con privilegi eccessivi, è possono eseguire i comandi del sistema operativo per consentire la creazione di nuovi utenti, per scaricare strumenti di attacco o per eseguire altre operazioni di autori di attacchi scelta.  
  
Cross-site scripting, è stato introdotto la vulnerabilità nell'output dell'applicazione. Un attacco inizia con un utente malintenzionato che fornisce dati in formato non valido per l'applicazione, ma in questo caso i dati in formato non corretto sono sotto forma di codice di script (ad esempio JavaScript) che verrà eseguito dal browser della vittima. Exploit di una vulnerabilità XSS un utente malintenzionato di eseguire le funzioni dell'applicazione di destinazione nel contesto dell'utente che ha avviato il browser. Gli attacchi XSS vengono in genere avviati da un messaggio di posta elettronica phishing incoraggiando all'utente di fare clic su un collegamento che si connette all'applicazione e viene eseguito il codice di attacco.  
  
XSS viene spesso usata in scenari di e-commerce in cui un utente malintenzionato può effettuare acquisti correlati o trasferisce del denaro nel contesto dell'utente interessato e banking online. Nel caso di un attacco di destinazione in un'applicazione di gestione di identità basato sul web personalizzato, può consentire un utente malintenzionato di creare le proprie identità, modificare autorizzazioni e diritti e causare una compromissione sistemica.  
  
Anche se una trattazione completa di scripting intersito e attacchi SQL injection è all'esterno dell'ambito di questo documento, il [Open Web Application Security Project (OWASP)](https://www.owasp.org/index.php/Main_Page) pubblica un elenco dei primi 10 con analisi approfondita delle vulnerabilità e contromisure.  
  
Indipendentemente dal fatto l'investimento nella protezione dell'infrastruttura, se in modo inadeguato progettate e scritte le applicazioni vengono distribuite all'interno di questa infrastruttura, è possibile che l'ambiente viene effettuato vulnerabile agli attacchi. Infrastrutture anche adeguatamente protette non possono spesso fornire contromisure efficaci a questi attacchi di applicazione. Il problema di composizione, progettata in modo inadeguato applicazioni può richiedere che gli account del servizio siano concesse autorizzazioni eccessive per il funzionamento dell'applicazione.  
  
Microsoft Security Development Lifecycle (SDL) è un set di controlli strutturali processo che interagiscono per migliorare la sicurezza a partire da tempestivamente i requisiti di raccolta e l'estensione tramite il ciclo di vita dell'applicazione fino a quando non lo è state rimosse. Questa integrazione dei controlli di sicurezza valide non solo è critica dal punto di vista della sicurezza, è fondamentale per garantire che la sicurezza dell'applicazione è costo e pianificazione attiva. La valutazione di un'applicazione per i problemi di sicurezza quando è effettivamente codice completa richiede alle organizzazioni di prendere decisioni sulla sicurezza delle applicazioni solo prima o anche dopo aver distribuita l'applicazione. Un'organizzazione può scegliere di risolvere i difetti dell'applicazione prima di distribuire l'applicazione nell'ambiente di produzione, sostenere i costi e ritardi, o l'applicazione può essere distribuita nell'ambiente di produzione con difetti di sicurezza noti, che espone l'organizzazione per compromettere.  
  
Alcune organizzazioni posizionare l'intero costo di correzione di un problema di sicurezza nel codice di produzione di sopra di 10.000 dollari per ogni problema e le applicazioni sviluppate senza un'effettiva SDL possono calcolare la media di più di dieci problemi gravi per ogni 100.000 righe di codice. Nelle applicazioni di grandi dimensioni, i costi di inoltrare rapidamente. Molte società, al contrario, impostare un benchmark di minore di uno dei problemi per ogni 100.000 righe di codice nella fase di revisione del codice finale del processo SDL e proporre zero problemi nelle applicazioni ad alto rischio in fase di produzione.  
  
Implementazione del processo SDL migliora la sicurezza includendo i requisiti di sicurezza all'inizio di raccolta dei requisiti e progettazione di un'applicazione fornisce modellazione delle minacce per le applicazioni ad alto rischio. richiede la formazione efficace e il monitoraggio degli sviluppatori; e richiede chiare e coerenti con codice standard e procedure consigliate. Il risultato finale di un processo SDL è notevoli miglioramenti nella protezione delle applicazioni, riducendo al contempo i costi per sviluppare, distribuire, gestire e rimuovere le autorizzazioni di un'applicazione. Sebbene una discussione dettagliata della progettazione e implementazione di SDL esula dall'ambito di questo documento, vedere la [Microsoft Security Development Lifecycle](https://www.microsoft.com/security/sdl/default.aspx) per indicazioni dettagliate e informazioni.  
  


